
# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

---

Добрый день!  
Домашнее задание будет выполнено в виде ответов по пунктам  
Ответы на вопросы выделены *курсивом*

---

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

*Полная виртуализация - реализация гипервизора на голом железе*  
*Паравиртуализация - реализация гипервизора как прикладного ПО*  
*Виртуализация на основе ОС - реализация гипервизора как часть ядра ОС*

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

- Высоконагруженная база данных, чувствительная к отказу.

	*Реализовал бы на гипервизоре с полной виртаулизацией. Несмотря на увеличение числа абстракций (относительно голого железа) и накладных расходов, использование гипервизора позволит увеличить надежность и масштабируемость. Прежде всего за счет абстракции уровня железа. Опыт подсказывает, что возможность оперативного (без остановки сервисов) масштабирования ресурсов и возможность перемещения виртуалки на резервное железо сильно увеличивает доступность СУБД.*
	
- Различные web-приложения.

	*Подойдет виртуализация уровня ОС, как самая быстро развертываемая и нетребовательная к особенностям гостевой ОС. Докер хорошо подходит.*
	
- Windows системы для использования бухгалтерским отделом.

	*Паравиртуализация. Отлично ложится на большое количество изолированных виртуалок. Windows системы лучше работают в изолированном окружении для каждой задачи.*

- Системы, выполняющие высокопроизводительные расчеты на GPU.

	*Физический сервер. Для чистых вычислений без особых требований к надежности каждой ноды лучше всего отжимать ресурсы прямо с голого железа.*


## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

	*Microsoft Hyper-V. Хорошо подходит для преимущественно Windows based инфраструктуры. Дает большое количество возможностей масштабирования, построения сетевой инфраструктуры между виртуальными машинами. Низкий уровень вхождения. Присутствует возможность репликации виртуальных машин. Есть балансировщик и автоматизация для резервного копирования.*

2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

	*Xen. Подходит под поставленные задачи, отличная производительность. труднее поддерживать, чем KVM, но для небольшой инфраструктуры это не критично.*	
	
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.

	*Hyper-V. Бесплатное, максимально совместимое и производительное для Windows решение. Все подходит.*

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

	*VirtualBox с автоматизацией vagrant. Отличное решение для тестирования с возможностью быстрого развертывания и уничтожения ВМ. Работает на калькуляторах.*

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

*Возможные проблемы*

*- Необходимы сотрудники со знанием и опытом работы на гетерогенных инфраструктурах. Это значительно дороже.*

*- Необходимость поддерживать разные продукты с разным жизненным циклом на боевой инфраструктуре. Это сильно усложняет плановые работы и занимает значительное время. Кроме того компоненты инфраструктуры влияют друг на друга, это тоже приходится учитывать при обслуживании.*

*- Труднее администрировать аппаратные ресурсы и производительность сети. Ниже мобильность ВМ по инфраструктуре.*

*- Отличается автоматизация различных процессов и кратно увеличивается трудоемкость по поддержанию автоматизации в актуальном состоянии.*
	 
*При наличии выбора - я бы не создавал гетерогенную среду. Примером может стать необходимость отдельного планирования обновления ПО гипервизоров, более трудоемкие в планировании и осуществлении работы по выводу и вводу в эксплуатацию аппаратных ресурсов. Невозможность быстрой миграции ВМ между кластерами без потери сервисов. Невозможность быстрого восстановления ВМ после аппаратного сбоя на другом кластере. Различные протоколы резервного копирования.*
